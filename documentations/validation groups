å¥½çš„ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ª **å®Œæ•´çš„ Spring Boot é¡¹ç›®ç¤ºä¾‹**ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ **Validation Groupsï¼ˆæ ¡éªŒåˆ†ç»„ï¼‰** æ¥åŒºåˆ†â€œåˆ›å»ºç”¨æˆ·â€å’Œâ€œæ›´æ–°ç”¨æˆ·â€çš„è¯·æ±‚å‚æ•°æ ¡éªŒé€»è¾‘ã€‚

---

## âœ… ç¤ºä¾‹ç»“æ„

```
src/
 â””â”€â”€ main/
     â””â”€â”€ java/
         â””â”€â”€ com.example.validation/
             â”œâ”€â”€ ValidationGroups.java     â† åˆ†ç»„æ¥å£
             â”œâ”€â”€ UserDTO.java              â† DTO å¸¦æ ¡éªŒæ³¨è§£
             â”œâ”€â”€ UserController.java       â† æ§åˆ¶å™¨
             â””â”€â”€ DemoApplication.java      â† å¯åŠ¨ç±»
```

---

### 1. `ValidationGroups.java`

```java
package com.example.validation;

public class ValidationGroups {
    public interface Create {}
    public interface Update {}
}
```

---

### 2. `UserDTO.java`

```java
package com.example.validation;

import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.NotNull;

public class UserDTO {

    @NotNull(groups = ValidationGroups.Update.class, message = "æ›´æ–°æ—¶å¿…é¡»æä¾›ç”¨æˆ·ID")
    private Long id;

    @NotBlank(groups = {ValidationGroups.Create.class, ValidationGroups.Update.class}, message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
    private String username;

    @NotBlank(groups = ValidationGroups.Create.class, message = "åˆ›å»ºç”¨æˆ·æ—¶å¯†ç ä¸èƒ½ä¸ºç©º")
    private String password;

    // Getters & Setters

    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }

    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }

    public String getPassword() { return password; }
    public void setPassword(String password) { this.password = password; }
}
```

---

### 3. `UserController.java`

```java
package com.example.validation;

import org.springframework.http.ResponseEntity;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/users")
public class UserController {

    @PostMapping
    public ResponseEntity<String> createUser(
        @Validated(ValidationGroups.Create.class) @RequestBody UserDTO userDTO
    ) {
        return ResponseEntity.ok("âœ… ç”¨æˆ·åˆ›å»ºæˆåŠŸ: " + userDTO.getUsername());
    }

    @PutMapping
    public ResponseEntity<String> updateUser(
        @Validated(ValidationGroups.Update.class) @RequestBody UserDTO userDTO
    ) {
        return ResponseEntity.ok("âœ… ç”¨æˆ·æ›´æ–°æˆåŠŸ: ID=" + userDTO.getId());
    }
}
```

---

### 4. `DemoApplication.java`

```java
package com.example.validation;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

---

### ğŸ§ª æµ‹è¯•ç¤ºä¾‹

#### âœ… åˆ›å»ºç”¨æˆ·è¯·æ±‚
```http
POST /users
Content-Type: application/json

{
  "username": "alice",
  "password": "123456"
}
```
âœ… æˆåŠŸ

---

#### âŒ åˆ›å»ºç”¨æˆ·ç¼ºå¯†ç 
```http
POST /users
Content-Type: application/json

{
  "username": "alice"
}
```
âŒ æŠ¥é”™ï¼š`åˆ›å»ºç”¨æˆ·æ—¶å¯†ç ä¸èƒ½ä¸ºç©º`

---

#### âœ… æ›´æ–°ç”¨æˆ·è¯·æ±‚
```http
PUT /users
Content-Type: application/json

{
  "id": 1001,
  "username": "bob"
}
```
âœ… æˆåŠŸ

---

#### âŒ æ›´æ–°ç”¨æˆ·ç¼º ID
```http
PUT /users
Content-Type: application/json

{
  "username": "bob"
}
```
âŒ æŠ¥é”™ï¼š`æ›´æ–°æ—¶å¿…é¡»æä¾›ç”¨æˆ·ID`

---

å¦‚æœä½ éœ€è¦ï¼Œæˆ‘å¯ä»¥ä¸ºä½ æ‰“åŒ…æˆä¸€ä¸ªå¯è¿è¡Œçš„ Spring Boot å·¥ç¨‹æˆ–è€…æä¾› Markdown ç‰ˆé¡¹ç›®æ–‡æ¡£ï¼Œå“ªç§ä½ æ›´éœ€è¦ï¼Ÿ